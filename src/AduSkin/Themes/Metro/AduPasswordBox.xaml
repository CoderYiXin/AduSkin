<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
      xmlns:Adu="clr-namespace:AduSkin.Controls.Metro"
      xmlns:AduAttach="clr-namespace:AduSkin.Controls.Attach">
   <ResourceDictionary.MergedDictionaries>
      <ResourceDictionary Source="/AduSkin;component/Themes/Theme.xaml"/>
   </ResourceDictionary.MergedDictionaries>
   <PathGeometry x:Key="Icon_Password" Figures="M12,17A2,2,0,0,0,14,15C14,13.89,13.1,13,12,13A2,2,0,0,0,10,15A2,2,0,0,0,12,17 M18,8A2,2,0,0,1,20,10L20,20A2,2,0,0,1,18,22L6,22A2,2,0,0,1,4,20L4,10C4,8.89,4.9,8,6,8L7,8 7,6A5,5,0,0,1,12,1A5,5,0,0,1,17,6L17,8 18,8 M12,3A3,3,0,0,0,9,6L9,8 15,8 15,6A3,3,0,0,0,12,3z" />
   <PathGeometry x:Key="Icon_SeePassword" Figures="M510.799531 777.303634c-111.443533 0-212.883157-44.017194-293.514654-127.249707-60.423603-62.424385-87.83431-124.448613-89.034779-127.049628l-4.601798-10.404065 4.601798-10.404064c1.200469-2.601016 28.611176-64.625244 89.034779-127.049628C298.116452 292.114107 399.556077 248.096913 510.799531 248.096913c112.644002 0 214.483783 44.017194 294.715123 127.249707 60.023447 62.424385 86.833919 124.648691 87.83431 127.249707l4.201642 10.203986-4.201642 10.203986c-1.200469 2.601016-27.810864 64.825322-87.83431 127.249706-80.23134 83.032435-182.071122 127.049629-294.715123 127.049629zM181.270809 512.600234c9.80383 19.007425 34.213365 61.023837 74.82923 102.640094 71.427902 73.028527 157.26143 110.042986 254.89957 110.042986 99.438843 0 186.072685-37.414615 257.10043-111.443533 39.815553-41.416178 63.224697-82.632278 72.628371-101.239547-9.603751-18.807347-33.413052-61.023837-73.82884-102.640093-71.027745-73.028527-157.061352-110.042986-255.899961-110.042986-98.238374 0-184.472059 37.414615-256.100039 111.443533-40.215709 41.416178-64.02501 82.632278-73.628761 101.239546z M512.200078 514.601016m-106.2415 0a106.241501 106.241501 0 1 0 212.483001 0 106.241501 106.241501 0 1 0-212.483001 0Z" />
   <PathGeometry x:Key="Icon_NotSeePassword" Figures="M262.50254 792.509574c-8.003126 0-15.606096-3.20125-21.408363-8.803439-5.802267-5.802267-8.803439-13.405236-8.803438-21.408362 0-8.003126 3.20125-15.606096 8.803438-21.408363l500.995702-499.194998c5.802267-5.802267 13.405236-8.803439 21.408363-8.803439 8.003126 0 15.606096 3.20125 21.408362 8.803439 11.804611 11.804611 11.804611 31.012114 0 42.816725L283.910903 783.706135c-5.802267 5.602188-13.405236 8.803439-21.408363 8.803439z M893.348964 502.596327c-1.200469-2.601016-27.810864-64.825322-87.83431-127.249707-12.404846-12.805002-25.409926-24.809691-38.815162-35.81399l-37.014459 37.014459c12.805002 10.203986 25.009769 21.408363 37.014459 33.61313 40.415787 41.616256 64.425166 83.832747 73.828839 102.640094-9.403673 18.607268-32.812818 59.823369-72.62837 101.239546-71.227823 73.828839-157.661587 111.443533-257.10043 111.443533-39.215318 0-76.629934-6.002345-111.843689-18.007034l-40.215709 40.215709c47.618601 19.607659 98.638531 29.811645 152.059398 29.811645 112.644002 0 214.483783-44.017194 294.715123-127.249707 60.023447-62.424385 86.833919-124.648691 87.83431-127.249706l4.201642-10.203986-4.201642-10.203986zM255.899961 615.240328c-40.615866-41.416178-64.825322-83.632669-74.82923-102.640094 9.603751-18.607268 33.413052-59.823369 73.428683-101.239546 71.62798-74.028918 157.861665-111.443533 256.100039-111.443533 39.815553 0 77.630324 6.002345 113.244236 18.007034l40.215709-40.215709c-47.818679-19.807737-99.438843-29.811645-153.459945-29.811645-111.443533 0-212.883157 44.017194-293.514654 127.249707C156.661196 437.570926 129.250488 499.595154 128.05002 502.19617l-4.601798 10.404064 4.601798 10.404065c1.200469 2.601016 28.611176 64.625244 89.034779 127.049628 12.404846 12.805002 25.409926 24.809691 39.01524 35.81399l37.014459-37.014459c-12.604924-10.003908-25.209848-21.208284-37.214537-33.61313z M405.958578 514.601016c0 6.802657 0.600234 13.405236 1.800703 19.807737l124.048456-124.048456c-6.402501-1.200469-13.00508-1.800703-19.607659-1.800703-58.6229 0-106.241501 47.418523-106.2415 106.041422zM618.241501 514.601016c0-8.203204-1.000391-16.206331-2.801095-24.009379L488.190699 618.041422c7.60297 1.800703 15.606096 2.801094 23.809301 2.801095 58.822978 0 106.241501-47.618601 106.241501-106.241501z" />

   <Style x:Key="SeePassowrdButtonStyle" TargetType="ToggleButton">
      <Setter Property="Background" Value="{StaticResource NormalBrush}"/>
      <Setter Property="Template">
         <Setter.Value>
            <ControlTemplate TargetType="ToggleButton">
               <Border Background="{StaticResource NormalTransparentBrush}" Padding="{TemplateBinding Padding}">
                  <Path x:Name="path" Stretch="Uniform" 
                     Margin="{TemplateBinding AduAttach:PathDataAttach.Margin}"
                     Width="{TemplateBinding AduAttach:PathDataAttach.Width}"
                     Data="{TemplateBinding AduAttach:PathDataAttach.PathData}"
                     Fill="{TemplateBinding AduAttach:PathBrushAttach.NormalPathColor}"/>
               </Border>
               <ControlTemplate.Triggers>
                  <Trigger Property="IsChecked" Value="True">
                     <Setter TargetName="path" Property="Data" Value="{StaticResource Icon_SeePassword}" />
                  </Trigger>
               </ControlTemplate.Triggers>
            </ControlTemplate>
         </Setter.Value>
      </Setter>
   </Style>

   <Style TargetType="{x:Type Adu:AduPasswordBox}">
      <Setter Property="AduAttach:BackgroundAttach.MouseOverBackground" Value="{StaticResource NormalWhite}"/>
      <Setter Property="AduAttach:PathBrushAttach.NormalPathColor" Value="{StaticResource NormalBrush}" />
      <Setter Property="AduAttach:PathDataAttach.Width" Value="12" />
      <Setter Property="AduAttach:PathDataAttach.Margin" Value="0,0,4,0" />
      <Setter Property="AduAttach:PathDataAttach.PathData" Value="{StaticResource Icon_NotSeePassword}" />
      <Setter Property="AduAttach:BorderAttach.CornerRadius" Value="2"/>
      <Setter Property="BorderBrush" Value="{StaticResource NormalBrush}"/>
      <Setter Property="Background" Value="{StaticResource NormalWhite}" />
      <Setter Property="Foreground" Value="{StaticResource NormalBlack}" />
      <Setter Property="MinHeight" Value="30"/>
      <Setter Property="BorderThickness" Value="1" />
      <Setter Property="Padding" Value="2,0" />
      <Setter Property="HorizontalContentAlignment" Value="Left" />
      <Setter Property="VerticalContentAlignment" Value="Center" />
      <Setter Property="SnapsToDevicePixels" Value="True" />
      <Setter Property="FocusVisualStyle" Value="{x:Null}" />
      <Setter Property="Template">
         <Setter.Value>
            <ControlTemplate TargetType="{x:Type Adu:AduPasswordBox}">
               <Border x:Name="back" CornerRadius="{TemplateBinding AduAttach:BorderAttach.CornerRadius}" 
                       Background="{TemplateBinding Background}">
                  <Grid>
                     <Border x:Name="border" CornerRadius="{TemplateBinding AduAttach:BorderAttach.CornerRadius}" Opacity="0.15"
                           BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{StaticResource NormalBlack}"/>
                     <Border x:Name="bordermove" CornerRadius="{TemplateBinding AduAttach:BorderAttach.CornerRadius}" Opacity="0"
                           BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}"/>
                     <Border x:Name="bordertrue" CornerRadius="{TemplateBinding AduAttach:BorderAttach.CornerRadius}" Visibility="Hidden"
                           BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{StaticResource SuccessBrush}"/>
                     <Border x:Name="borderfalse" CornerRadius="{TemplateBinding AduAttach:BorderAttach.CornerRadius}" Visibility="Hidden"
                           BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{StaticResource ErrorBrush}"/>
                     <Grid Margin="{TemplateBinding Padding}">
                        <Grid.ColumnDefinitions>
                           <ColumnDefinition Width="*" />
                           <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" 
                              Text="{TemplateBinding AduAttach:InputAttach.InputHint}" Margin="{TemplateBinding Padding}"
                              FontSize="{TemplateBinding FontSize}" Opacity="0.2">
                           <TextBlock.Style>
                              <Style TargetType="{x:Type TextBlock}">
                                 <Style.Triggers>
                                    <MultiDataTrigger>
                                       <MultiDataTrigger.Conditions>
                                          <Condition Binding="{Binding IsKeyboardFocused, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Adu:AduPasswordBox}}}" Value="True" />
                                          <Condition Binding="{Binding Text.IsEmpty, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Adu:AduPasswordBox}}}" Value="True" />
                                       </MultiDataTrigger.Conditions>
                                       <Setter Property="Visibility" Value="Collapsed" />
                                    </MultiDataTrigger>
                                    <MultiDataTrigger>
                                       <MultiDataTrigger.Conditions>
                                          <Condition Binding="{Binding IsKeyboardFocused, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Adu:AduPasswordBox}}}" Value="True" />
                                          <Condition Binding="{Binding Text.IsEmpty, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Adu:AduPasswordBox}}}" Value="False" />
                                       </MultiDataTrigger.Conditions>
                                       <Setter Property="Visibility" Value="Collapsed" />
                                    </MultiDataTrigger>
                                    <MultiDataTrigger>
                                       <MultiDataTrigger.Conditions>
                                          <Condition Binding="{Binding IsKeyboardFocused, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Adu:AduPasswordBox}}}" Value="False" />
                                          <Condition Binding="{Binding Text.IsEmpty, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Adu:AduPasswordBox}}}" Value="False" />
                                       </MultiDataTrigger.Conditions>
                                       <Setter Property="Visibility" Value="Collapsed" />
                                    </MultiDataTrigger>
                                 </Style.Triggers>
                              </Style>
                           </TextBlock.Style>
                        </TextBlock>
                        <ScrollViewer x:Name="PART_ContentHost" Grid.Column="0" Focusable="False"
                           HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>
                        <ToggleButton x:Name="PART_SeePassword" Grid.Column="1" 
                           AduAttach:PathBrushAttach.NormalPathColor="{TemplateBinding AduAttach:PathBrushAttach.NormalPathColor}"
                           AduAttach:PathDataAttach.Width="{TemplateBinding AduAttach:PathDataAttach.Width}"
                           AduAttach:PathDataAttach.PathData="{TemplateBinding AduAttach:PathDataAttach.PathData}"
                           AduAttach:PathDataAttach.Margin="{TemplateBinding AduAttach:PathDataAttach.Margin}" 
                           Style="{StaticResource SeePassowrdButtonStyle}"
                           FontSize="12" Visibility="Collapsed"/>
                     </Grid>
                  </Grid>
               </Border>
               <ControlTemplate.Triggers>
                  <Trigger Property="IsEnabled" Value="false">
                     <Setter Property="Background" TargetName="back" Value="{DynamicResource NormalWhite}"/>
                  </Trigger>
                  <Trigger Property="IsMouseOver" Value="true">
                     <Setter Property="Opacity" TargetName="border" Value="0"/>
                     <Setter Property="Opacity" TargetName="bordermove" Value="1"/>
                     <Setter Property="BorderBrush" TargetName="bordertrue" Value="#ff6fae5f"/>
                     <Setter Property="BorderBrush" TargetName="borderfalse" Value="#ffe67979"/>
                     <Setter Property="Background" TargetName="back" Value="{Binding (AduAttach:BackgroundAttach.MouseOverBackground), RelativeSource={RelativeSource TemplatedParent}}"/>
                  </Trigger>
                  <Trigger Property="IsKeyboardFocused" Value="true">
                     <Setter Property="Opacity" TargetName="border" Value="0"/>
                     <Setter Property="Opacity" TargetName="bordermove" Value="1"/>
                     <Setter Property="BorderBrush" TargetName="bordertrue" Value="#ff6fae5f"/>
                     <Setter Property="BorderBrush" TargetName="borderfalse" Value="#ffe67979"/>
                     <Setter Property="Background" TargetName="back" Value="{Binding (AduAttach:BackgroundAttach.MouseOverBackground), RelativeSource={RelativeSource TemplatedParent}}"/>
                  </Trigger>
                  <MultiTrigger>
                     <MultiTrigger.Conditions>
                        <Condition Property="Text" Value=""/>
                        <Condition Property="IsEnabled" Value="true"/>
                        <Condition Property="IsKeyboardFocused" Value="false"/>
                     </MultiTrigger.Conditions>
                  </MultiTrigger>

               </ControlTemplate.Triggers>
            </ControlTemplate>
         </Setter.Value>
      </Setter>
   </Style>
</ResourceDictionary>